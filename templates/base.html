{% load staticfiles %}

{% load web_filters %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>線上英文考試系統</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="shortcut icon" type="image/png" href="{% static "images/icon_logo.png" %}"/>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    {% block stylesheets %}{% endblock %}

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.js" crossorigin="anonymous" defer></script>
    <script src="/static/scripts/base.js?{{ request.static_file_version }}" defer></script>
    {% block scripts %}{% endblock %}
</head>
<body class="bg-light">

<style>
    body{
        background: {% static "images/background.jpg" %};
        background-size: cover;
    }
    .navbar {
  background-color: #3c6382;
}
.navbar .navbar-brand {
  color: #ecf0f1;
}
.navbar .navbar-brand:hover,
.navbar .navbar-brand:focus {
  color: #26cfdf;
}
.navbar .navbar-text {
  color: #ecf0f1;
}
.navbar .navbar-text a {
  color: #26cfdf;
}
.navbar .navbar-text a:hover,
.navbar .navbar-text a:focus {
  color: #26cfdf;
}
.navbar .navbar-nav .nav-link {
  color: #ecf0f1;
  border-radius: .25rem;
  margin: 0 0.25em;
}
.navbar .navbar-nav .nav-link:not(.disabled):hover,
.navbar .navbar-nav .nav-link:not(.disabled):focus {
  color: #26cfdf;
}
.navbar .navbar-nav .dropdown-menu {
  background-color: #3c6382;
  border-color: #3c6382;
}
.navbar .navbar-nav .dropdown-menu .dropdown-item {
  color: #ecf0f1;
}
.navbar .navbar-nav .dropdown-menu .dropdown-item:hover,
.navbar .navbar-nav .dropdown-menu .dropdown-item:focus,
.navbar .navbar-nav .dropdown-menu .dropdown-item.active {
  color: #26cfdf;
  background-color: #3c6382;
}
.navbar .navbar-nav .dropdown-menu .dropdown-divider {
  border-top-color: #3c6382;
}
.navbar .navbar-nav .nav-item.active .nav-link,
.navbar .navbar-nav .nav-item.active .nav-link:hover,
.navbar .navbar-nav .nav-item.active .nav-link:focus,
.navbar .navbar-nav .nav-item.show .nav-link,
.navbar .navbar-nav .nav-item.show .nav-link:hover,
.navbar .navbar-nav .nav-item.show .nav-link:focus {
  color: #26cfdf;
  background-color: #3c6382;
}
.navbar .navbar-toggle {
  border-color: #3c6382;
}
.navbar .navbar-toggle:hover,
.navbar .navbar-toggle:focus {
  background-color: #3c6382;
}
.navbar .navbar-toggle .navbar-toggler-icon {
  color: #ecf0f1;
}
.navbar .navbar-collapse,
.navbar .navbar-form {
  border-color: #ecf0f1;
}
.navbar .navbar-link {
  color: #ecf0f1;
}
.navbar .navbar-link:hover {
  color: #26cfdf;
}

@media (max-width: 575px) {
  .navbar-expand-sm .navbar-nav .show .dropdown-menu .dropdown-item {
    color: #ecf0f1;
  }
  .navbar-expand-sm .navbar-nav .show .dropdown-menu .dropdown-item:hover,
  .navbar-expand-sm .navbar-nav .show .dropdown-menu .dropdown-item:focus {
    color: #26cfdf;
  }
  .navbar-expand-sm .navbar-nav .show .dropdown-menu .dropdown-item.active {
    color: #26cfdf;
    background-color: #3c6382;
  }
}

@media (max-width: 767px) {
  .navbar-expand-md .navbar-nav .show .dropdown-menu .dropdown-item {
    color: #ecf0f1;
  }
  .navbar-expand-md .navbar-nav .show .dropdown-menu .dropdown-item:hover,
  .navbar-expand-md .navbar-nav .show .dropdown-menu .dropdown-item:focus {
    color: #26cfdf;
  }
  .navbar-expand-md .navbar-nav .show .dropdown-menu .dropdown-item.active {
    color: #26cfdf;
    background-color: #3c6382;
  }
}

@media (max-width: 991px) {
  .navbar-expand-lg .navbar-nav .show .dropdown-menu .dropdown-item {
    color: #ecf0f1;
  }
  .navbar-expand-lg .navbar-nav .show .dropdown-menu .dropdown-item:hover,
  .navbar-expand-lg .navbar-nav .show .dropdown-menu .dropdown-item:focus {
    color: #26cfdf;
  }
  .navbar-expand-lg .navbar-nav .show .dropdown-menu .dropdown-item.active {
    color: #26cfdf;
    background-color: #3c6382;
  }
}

@media (max-width: 1199px) {
  .navbar-expand-xl .navbar-nav .show .dropdown-menu .dropdown-item {
    color: #ecf0f1;
  }
  .navbar-expand-xl .navbar-nav .show .dropdown-menu .dropdown-item:hover,
  .navbar-expand-xl .navbar-nav .show .dropdown-menu .dropdown-item:focus {
    color: #26cfdf;
  }
  .navbar-expand-xl .navbar-nav .show .dropdown-menu .dropdown-item.active {
    color: #26cfdf;
    background-color: #3c6382;
  }
}

.navbar-expand .navbar-nav .show .dropdown-menu .dropdown-item {
  color: #ecf0f1;
}
.navbar-expand .navbar-nav .show .dropdown-menu .dropdown-item:hover,
.navbar-expand .navbar-nav .show .dropdown-menu .dropdown-item:focus {
  color: #26cfdf;
}
.navbar-expand .navbar-nav .show .dropdown-menu .dropdown-item.active {
  color: #26cfdf;
  background-color: #3c6382;
}

</style>

    <nav class="navbar navbar-expand navbar-light  justify-content-between">
    <div class="container-fluid w3-large" style="  position: relative; z-index: 9999; background-color: #3c6382" >
        <div class="navbar-header">
            <a class="navbar-brand" href="/">
                <img src="/static/images/icon_logo.png" width="30" height="30"> &nbsp; ALCPT線上練習平台
            </a>
        </div>

<style>
div a {
  text-decoration: none;
  font-size: 20px;
  padding: 15px;
  display:inline-block;

}
ul.bar {
  display: inline;
  margin: 0;
  padding: 0;
  -webkit-text-fill-color: white;

}
ul.bar li {display: inline-block; }
ul.bar li:hover > a {background: #3c6382; color:#48dbfb;}
ul.bar li a {text-decoration: none; color: white;}
ul.bar li a:hover { color: #48dbfb;}

ul.bar li:hover {background: #3c6382;   border-radius: 10px; }
ul.bar li:hover ul {display: block;}
ul.bar li ul {
  position: absolute;
  width: 220px;
  display: none;
  color: white;


}
ul.bar li ul li {
  background: #3c6382;
  display: block;

}
ul.bar li ul li a {display:block !important; text-decoration: none; color: white;}
ul.bar li ul li:hover {background: #0a3d62; border-radius: 0px;}
ul.bar li ul li a:hover { color: #48dbfb;}


</style>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav bar" >
                {% if request.user|has_perm:'SystemManager' %}
                <li><a style=" text-decoration:none;" href="/user">系統管理員</a>
                    <ul>
                        <li><a href="/user">使用者列表</a> </li>
                        <li><a href="/user/create">新增使用者</a> </li>
                    </ul>
                </li>
                {% endif %}
                {% if request.user|has_perm:'ExamManager' %}
                <li><a style=" text-decoration:none;" href="/exam">考試管理員</a>
                    <ul>
                        <li><a href="/exam">考試列表</a> </li>
                        <li><a href="/exam/testpaper">考卷列表</a> </li>
                        <li><a href="/exam/group">受測者群組列表</a> </li>
                        <li><a href="/exam/proclamation">公告列表</a> </li>
                    </ul>
                </li>
                {% endif %}
                {% if request.user|has_perm:'QuestionManager' %}
                <li><a style=" text-decoration:none;" href="/question">題庫管理員</a>
                    <ul>
                        <li><a style=" text-decoration:none;" href="/question/create">新增試題</a> </li>
                        <li><a style=" text-decoration:none;" href="/question/review">審核試題</a> </li>
                    </ul>
                </li>
                {% endif %}
                {% if request.user|has_perm:'QuestionOperator' %}
                <li><a style=" text-decoration:none;" href="/question_operator">題庫操作員</a>
                    <ul>
                        <li><a style=" text-decoration:none;" href="/question_operator/create">新增試題</a> </li>

                        <li><a style=" text-decoration:none;" href="/question_operator">查看試題</a> </li>
                    </ul>
                </li>
                {% endif %}
                {% if request.user|has_perm:'ScoreViewer' %}
                <li><a style=" text-decoration:none;" href="/score">成績檢閱者</a>
                    <ul>
                        <li><a style=" text-decoration:none;" href="/score">檢閱成績</a> </li>
                    </ul>
                </li>
                {% endif %}
                {% if request.user|has_perm:'Tester' %}
                <li><a style=" text-decoration:none;" href="/tester">受測者</a>
                    <ul>
                        <li><a style=" text-decoration:none;" href="/tester">檢閱成績</a> </li>
                        <li><a style=" text-decoration:none;" href="/tester/practice/reading">閱讀練習</a> </li>
                        <li><a style=" text-decoration:none;" href="/tester/practice/listening">聽力練習</a> </li>
                        <li><a style=" text-decoration:none;" href="/tester/practice/integration">綜合練習</a> </li>
                        <li><a style=" text-decoration:none;" href="/tester/simulation-exam">模擬鑑測</a> </li>
                    </ul>
                </li>
                {% endif %}
            </ul>

        </div>

        <div class="collapse navbar-collapse" style="  position: absolute; right: 0;">
            {% if request.user.is_authenticated %}
            <ul class="nav navbar-nav navbar-right bar" >
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-expanded="false">
                        <i class="fa fa-user"></i> {{ request.user.name }} ({{ request.user.serial_number }})
                    </a>
                    <div class="dropdown-menu dropdown-menu-right float-right" aria-labelledby="navbarDropdownMenuLink" >
                        <a class="dropdown-item" href="/user/{{ request.user.serial_number }}"><i class="fa fa-cog"></i> 修改個人資料</a>
                        <a class="dropdown-item" href="/logout"><i class="fa fa-sign-out"></i> 登出系統</a>
                    </div>
                </li>
            </ul>
        </div>
        {% endif %}
    </div>
    </nav>



{# 圖片按鈕#}

    <section class="container" style="background-color: rgba(255,255,255,0.5)">
    {% if messages %}
        {% for message in messages %}
            {% if message.tags == "error" %}
        <div class="alert alert-danger mt-3" role="alert">
            <i class="fa fa-window-close" aria-hidden="true"></i> {{ message }}
        </div>
            {% elif message.tags == "success" %}
        <div class="alert alert-success mt-3" role="alert">
            {{ message }}
        </div>
            {% elif message.tags == "warning" %}
        <div class="alert alert-warning mt-3" role="alert">
            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> {{ message }}
        </div>
            {% else %}
        <div class="alert mt-3" role="alert">
            {{ message }}
        </div>
            {% endif %}
        {% endfor %}
    {% else %}
        <div style="height: 60px;"></div>
    {% endif %}
    {% block content %}{% endblock %}
        <div style="height: 40px;"></div>

    </section>
</body>
{% include "footer.html" %}
</html>