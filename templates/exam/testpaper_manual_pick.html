{% extends 'base_long_page.html' %}

{% load web_filters %}

{% block path %}
    <a href="">考試管理員</a>
    <a class="fa fa-angle-double-right fa-lg box"></a>
    <a href="{% url 'testpaper_list' %}">考卷列表</a>
    <a class="fa fa-angle-right fa-lg box"></a>
    <a href="{% url 'testpaper_edit' testpaper.id %}">編輯考卷</a> /
    <a href="">人工選題</a>
{% endblock %}

{% block content %}
    <div class="table-responsive">
        <form method="post">
            {% csrf_token %}
            <div>
                {% if questionList %}
                    <table class="table table-hover">
                        <caption style="font-size: 30px;"><label for="pick_up_questions">&nbsp;選擇題目</label></caption>
                        <thead class="title">
                            <tr>
                                <th class="col-md-1">ＩＤ</th>
                                <th class="col-md-3">題目</th>
                                <th class="col-md-2">題目選項</th>
                            </tr>
                        </thead>

                        <tbody>
                            {% for question in questionList %}
                                <tr>
                                    <td style="vertical-align: middle"><input type="checkbox" name="question" value="{{ question.id }}" {% if question in selected_questions %}checked{% endif %}>{{ question.id }}</td>
                                    <td style="text-align: center; vertical-align: middle">
                                        {% if question.q_file %}
                                            <audio controls preload="none">
                                                <source src="{{ question.q_file }}" type="audio/mpeg">
                                                Your browser does not support the audio tag.
                                            </audio>
                                        {% else %}
                                            {{ question.q_content }}
                                        {% endif %}
                                    </td>
                                    <td style="text-align: left; vertical-align: middle">
                                        {% for option in question.choice_set.all %}
                                            {% if option.is_answer %}
                                                <span style="color: red"><li>{{ option }}</li></span>
                                            {% else %}
                                                <li>{{ option }}</li>
                                            {% endif %}
                                        {% endfor %}
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                {% endif %}

                <div class="btn">
                    <input type="submit" value="確認">
                </div>

                <style>
                    .btn input{
                        font-size: 25px;
                        padding: 10px;
                        padding-left: 15px;
                        padding-right: 15px;
                        color: #FFFEF6;
                        background-color: #4CCABD;
                        border: none;
                        overflow: visible;
                        position: absolute;
                        left: 92%;
                        top: 5%;
                    }

                    .table-responsive .table{
                        text-align: center;
                        position: absolute;
                        top: 30px;
                        left: 0px;
                    }

                    .table-hover > tbody > tr:hover > td,
                    .table-hover > tbody > tr:hover > th {
                        background-color: #4CCABD;
                    }

                    .title{
                        font-size: 25px;
                    }

                    .title tr th{
                        text-align: center;
                        font-size: 25px;
                    }

                    .table tbody{
                        font-size: 25px;
                    }

                    .table tbody td a{
                        color: #2C3232;
                    }
                </style>
            </div>


        </form>
    </div>
{% endblock %}