{% extends 'new_base.html' %}
{% block scripts %}
<!-- <script src="{{ static('/javascript/exam/exam_create.js') }}"></script> -->
{% endblock %} {% block path %}
<li class="breadcrumb-item" aria-current="page">
    <a href="{{ url('exam_list') }}">Exam List</a>
</li>
<li class="breadcrumb-item active" aria-current="page">Exam Create</li>
{% endblock %} {% block content %}
<main class="exam-create-form">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form method="post">
                    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}" />
                    <div class="card">
                        <div class="card-header">Exam Create.</div>

                        <div class="card-body">
                            <h5 class="card-subtitle mb-2 text-muted">
                                Exam Name.<span id="name_invalid" class="name_invalid"></span>
                            </h5>
                            <p class="card-text">
                                <input class="form-control" type="text" onkeyup="unique_name({{ exam_names }}, this)" name="exam_name" required />
                            </p>

                            <div class="dropdown-divider"></div>

                            <h5 class="card-subtitle mb-2 text-muted">
                                Test Paper.<a href="{{ url('testpaper_create') }}"><i class="fa fa-plus-circle"></i></a><span id="group_invalid" class="group_invalid"></span>
                            </h5>


                            <select class="custom-select custom-select-sm" name="selected_testpaper" id="selected_testpaper" required>
                                <p class="card-text">
                                    <option value="" disabled selected>
                                        Choose Test Paper
                                    </option>
                                    {% for testpaper in testpapers %}
                                    <option value="{{ testpaper.id }}">
                                        {{ testpaper.name }}
                                    </option>
                                    {% endfor %}
                                </p>
                            </select>

                            <div class="dropdown-divider"></div>

                            <h5 class="card-subtitle mb-2 text-muted">
                                Group.<a href="{{ url('testee_group_create') }}"><i class="fa fa-plus-circle"></i></a><span id="group_invalid" class="group_invalid"></span>
                            </h5>


                            <select class="custom-select custom-select-sm" name="selected_group" id="selected_group" required>
                                <p class="card-text">
                                    <option value="" disabled selected>
                                        Choose Testee Group
                                    </option>
                                    {% for group in groups %}
                                    <option value="{{ group.id }}">{{ group.name }}</option>
                                    {% endfor %}
                                </p>
                            </select>

                            <div class="dropdown-divider"></div>

                            <h5 class="card-subtitle mb-2 text-muted">
                                Start Time.<span id="time_invalid" class="time_invalid" style="color: red; font-size: 14px">Required</span>
                            </h5>
                            <p class="card-text">
                                Date:
                                <select name="start_time_date" required>
                                    {% for date in dateList %}
                                    <option value="{{ date }}">{{ date }}</option>
                                    {% endfor %}
                                </select>
                                Time:
                                <select name="start_time_hour" required>
                                    {% for hour in hourList %}
                                    <option value="{{ hour }}">{{ hour }}</option>
                                    {% endfor %}
                                </select>
                                <select name="start_time_minute" required>
                                    {% for minute in minuteList %}
                                    <option value="{{ minute }}">{{ minute }}</option>
                                    {% endfor %}
                                </select>
                            </p>

                            <h5 class="card-subtitle mb-2 text-muted">
                                Duration.(min)<span id="duration_invalid" class="duration_invalid"></span>
                            </h5>
                            <p class="card-text">

                                <input class="form-control" type="text" name="duration" value="40" required />
                            </p>

                            <div class="float-right">
                                <button type="submit" class="btn btn-primary" id="submit">
                                    Submit
                                </button>
                                <button type="reset" class="btn btn-light">Reset</button>
                                <button type="button" class="btn btn-secondary" onclick="self.location=document.referrer;">
                                    Cancel
                                </button>
                            </div>

                            {% endblock %}

                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>